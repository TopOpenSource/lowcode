<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.form.mapper.base.LayoutFormBaseDao">
	
	<resultMap id="SysFormLayoutFormMap" type="com.ruoyi.form.domain.LayoutForm">
	    <id column="id" property="id" />
	    <result column="gmt_create" property="gmtCreate" />
	    <result column="gmt_modified" property="gmtModified" />
	    <result column="create_account" property="createAccount" />
	    <result column="modified_account" property="modifiedAccount" />
	    <result column="is_delete" property="isDelete" />
	    <result column="object_id" property="objectId" />
	    <result column="name" property="name" />
	    <result column="type" property="type" />
	    <result column="content" property="content" />
	    <result column="enable" property="enable" />
	    <result column="is_default" property="isDefault" />
	</resultMap>

	<sql id="SysFormLayoutFormCols">
		`id`,`gmt_create`,`gmt_modified`,`create_account`,`modified_account`,`is_delete`,`object_id`,`name`,`type`,`content`,`enable`,`is_default`
	</sql>

	<sql id="SysFormLayoutFormProps">
		#{id},#{gmtCreate},#{gmtModified},#{createAccount},#{modifiedAccount},#{isDelete},#{objectId},#{name},#{type},#{content},#{enable},#{isDefault}
	</sql>
    
    <insert id="insert" parameterType="com.ruoyi.form.domain.LayoutForm">
        insert into lowcode_layout_form
        (<include refid="SysFormLayoutFormCols"></include>)
        values
        (<include refid="SysFormLayoutFormProps"></include>)
    </insert>

	<update id="update" parameterType="com.ruoyi.form.domain.LayoutForm">
		update lowcode_layout_form
		<set>
			<if test="name != null and name !=''">
				name = #{name},
			</if>
			<if test="enable != null and enable !=''">
				enable = #{enable},
			</if>
			<if test="content != null and content !='' ">
				content = #{content},
			</if>
			<if test="gmtModified != null">
				gmt_modified = #{gmtModified},
			</if>
			<if test="modifiedAccount != null and modifiedAccount != ''">
				modified_account = #{modifiedAccount},
			</if>
		</set>
		<where>
			id = #{id}

		</where>
	</update>

	<select id="selectByPK" resultMap="SysFormLayoutFormMap">
		select
		<include refid="SysFormLayoutFormCols"></include>
		from lowcode_layout_form
		<where>
			id = #{id}

			and is_delete = '0'
		</where>
	</select>
</mapper>